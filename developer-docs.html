<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connect2Form Builder - Developer Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 0;
            text-align: center;
            margin-bottom: 40px;
            border-radius: 10px;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 300;
        }

        header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .version-badge {
            display: inline-block;
            background: rgba(255, 255, 255, 0.2);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            margin-top: 10px;
        }

        nav {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            position: sticky;
            top: 20px;
            z-index: 100;
        }

        nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }

        nav a {
            color: #667eea;
            text-decoration: none;
            font-weight: 500;
            padding: 8px 16px;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        nav a:hover {
            background: #667eea;
            color: white;
        }

        .content {
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
        }

        h2 {
            color: #2c3e50;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
            margin-bottom: 25px;
            font-size: 2em;
        }

        h3 {
            color: #34495e;
            margin: 25px 0 15px 0;
            font-size: 1.4em;
            border-left: 4px solid #667eea;
            padding-left: 15px;
        }

        h4 {
            color: #555;
            margin: 20px 0 10px 0;
            font-size: 1.2em;
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            line-height: 1.5;
        }

        .inline-code {
            background: #f1f5f9;
            color: #e53e3e;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 0.9em;
        }

        .highlight {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }

        .warning {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }

        .info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        table th,
        table td {
            padding: 12px;
            text-align: left;
            border: 1px solid #ddd;
        }

        table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #2c3e50;
        }

        table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .toc {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }

        .toc h3 {
            margin-top: 0;
            border: none;
            padding: 0;
        }

        .toc ul {
            list-style: none;
            padding-left: 20px;
        }

        .toc li {
            margin: 8px 0;
        }

        .toc a {
            color: #667eea;
            text-decoration: none;
        }

        .toc a:hover {
            text-decoration: underline;
        }

        footer {
            text-align: center;
            padding: 40px 0;
            color: #666;
            border-top: 1px solid #eee;
            margin-top: 50px;
        }

        .method-signature {
            background: #f1f5f9;
            padding: 10px 15px;
            border-radius: 5px;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            margin: 10px 0;
            border-left: 4px solid #667eea;
        }

        .parameter-table th {
            background: #667eea;
            color: white;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            header h1 {
                font-size: 2em;
            }
            
            .content {
                padding: 20px;
            }
            
            nav ul {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Connect2Form Builder</h1>
            <p>Comprehensive Developer Documentation</p>
            <div class="version-badge">Version 2.6.0</div>
        </header>

        <nav>
            <ul>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#architecture">Architecture</a></li>
                <li><a href="#installation">Installation</a></li>
                <li><a href="#hooks-filters">Hooks & Filters</a></li>
                <li><a href="#classes">Core Classes</a></li>
                <li><a href="#customization">Customization</a></li>
                <li><a href="#security">Security</a></li>
                <li><a href="#addon-development">Addon Development</a></li>
                <li><a href="#api-reference">API Reference</a></li>
                <li><a href="#examples">Examples</a></li>
            </ul>
        </nav>

        <div class="content">
            <div class="toc">
                <h3>üìã Table of Contents</h3>
                <ul>
                    <li><a href="#overview">üîç Plugin Overview</a></li>
                    <li><a href="#architecture">üèóÔ∏è Plugin Architecture</a></li>
                    <li><a href="#installation">üíæ Installation & Setup</a></li>
                    <li><a href="#hooks-filters">üé£ Hooks & Filters</a></li>
                    <li><a href="#classes">üì¶ Core Classes</a></li>
                    <li><a href="#customization">üé® Customization Guide</a></li>
                    <li><a href="#security">üîí Security Features</a></li>
                    <li><a href="#addon-development">üîå Addon Development</a></li>
                    <li><a href="#api-reference">üìö API Reference</a></li>
                    <li><a href="#examples">üí° Code Examples</a></li>
                </ul>
            </div>
        </div>

        <div class="content" id="overview">
            <h2>üîç Plugin Overview</h2>
            
            <p>Connect2Form is a comprehensive WordPress form builder plugin designed with security, accessibility, and performance as core principles. It provides a solid foundation for form management with extensibility through addon plugins for CRM and email marketing integrations.</p>

            <h3>üöÄ Key Features</h3>
            <div class="grid">
                <div class="card">
                    <h4>üé® Form Builder</h4>
                    <p>Drag & drop interface with 15+ field types, conditional logic, and real-time preview</p>
                </div>
                <div class="card">
                    <h4>üîí Security First</h4>
                    <p>CSRF protection, rate limiting, file validation, XSS protection, and comprehensive security manager</p>
                </div>
                <div class="card">
                    <h4>‚ôø Accessibility</h4>
                    <p>WCAG 2.1 AA compliant with screen reader support and keyboard navigation</p>
                </div>
                <div class="card">
                    <h4>‚ö° Performance</h4>
                    <p>Cached queries, lazy loading, memory management, and optimized database operations</p>
                </div>
                <div class="card">
                    <h4>üîå Extensible</h4>
                    <p>50+ hooks and filters, addon system, and modular architecture for custom integrations</p>
                </div>
                <div class="card">
                    <h4>üì± Responsive</h4>
                    <p>Mobile-first design that works perfectly on all devices and screen sizes</p>
                </div>
            </div>

            <h3>üìä Technical Specifications</h3>
            <table>
                <tr>
                    <th>Requirement</th>
                    <th>Minimum</th>
                    <th>Recommended</th>
                </tr>
                <tr>
                    <td>WordPress Version</td>
                    <td>5.0+</td>
                    <td>6.0+</td>
                </tr>
                <tr>
                    <td>PHP Version</td>
                    <td>7.4+</td>
                    <td>8.0+</td>
                </tr>
                <tr>
                    <td>MySQL Version</td>
                    <td>5.6+</td>
                    <td>8.0+</td>
                </tr>
                <tr>
                    <td>Memory Limit</td>
                    <td>64MB</td>
                    <td>128MB+</td>
                </tr>
            </table>
        </div>

        <div class="content" id="architecture">
            <h2>üèóÔ∏è Plugin Architecture</h2>

            <h3>üìÅ Directory Structure</h3>
            <div class="code-block">
connect2form-builder/
‚îú‚îÄ‚îÄ connect2form.php          # Main plugin file
‚îú‚îÄ‚îÄ readme.txt               # WordPress.org readme
‚îú‚îÄ‚îÄ .gitignore              # Git ignore rules
‚îú‚îÄ‚îÄ assets/                 # Frontend assets
‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.css       # Admin interface styles
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ form-builder.css # Form builder styles
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ frontend.css    # Frontend form styles
‚îÇ   ‚îî‚îÄ‚îÄ js/
‚îÇ       ‚îú‚îÄ‚îÄ accessibility.js # Accessibility enhancements
‚îÇ       ‚îú‚îÄ‚îÄ admin.js        # Admin functionality
‚îÇ       ‚îú‚îÄ‚îÄ form-builder.js # Form builder interface
‚îÇ       ‚îú‚îÄ‚îÄ frontend.js     # Frontend form behavior
‚îÇ       ‚îî‚îÄ‚îÄ datepicker.min.js # Third-party date picker
‚îî‚îÄ‚îÄ includes/               # PHP classes
    ‚îú‚îÄ‚îÄ c2f-wpdb-helpers.php # Database helpers
    ‚îú‚îÄ‚îÄ class-connect2form-accessibility.php
    ‚îú‚îÄ‚îÄ class-connect2form-activator.php
    ‚îú‚îÄ‚îÄ class-connect2form-admin.php
    ‚îú‚îÄ‚îÄ class-connect2form-deactivator.php
    ‚îú‚îÄ‚îÄ class-connect2form-form-builder.php
    ‚îú‚îÄ‚îÄ class-connect2form-form-renderer.php
    ‚îú‚îÄ‚îÄ class-connect2form-forms-list-table.php
    ‚îú‚îÄ‚îÄ class-connect2form-integrations.php
    ‚îú‚îÄ‚îÄ class-connect2form-performance.php
    ‚îú‚îÄ‚îÄ class-connect2form-security.php
    ‚îú‚îÄ‚îÄ class-connect2form-settings.php
    ‚îú‚îÄ‚îÄ class-connect2form-submission-handler.php
    ‚îî‚îÄ‚îÄ class-connect2form-submissions-list-table.php
            </div>

            <h3>üîß Core Components</h3>
            <div class="grid">
                <div class="card">
                    <h4>Admin Manager</h4>
                    <p>Handles admin interface, menus, and backend functionality</p>
                </div>
                <div class="card">
                    <h4>Form Builder</h4>
                    <p>Provides form creation tools and field type management</p>
                </div>
                <div class="card">
                    <h4>Form Renderer</h4>
                    <p>Renders forms on frontend with proper HTML structure</p>
                </div>
                <div class="card">
                    <h4>Submission Handler</h4>
                    <p>Processes form submissions and manages data flow</p>
                </div>
                <div class="card">
                    <h4>Security Manager</h4>
                    <p>Implements security measures and validation</p>
                </div>
                <div class="card">
                    <h4>Performance Manager</h4>
                    <p>Optimizes database queries and manages caching</p>
                </div>
            </div>

            <h3>üéØ Plugin Constants</h3>
            <table>
                <tr>
                    <th>Constant</th>
                    <th>Value</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><code>CONNECT2FORM_VERSION</code></td>
                    <td>2.6.0</td>
                    <td>Current plugin version</td>
                </tr>
                <tr>
                    <td><code>CONNECT2FORM_PLUGIN_DIR</code></td>
                    <td>Plugin directory path</td>
                    <td>Absolute path to plugin directory</td>
                </tr>
                <tr>
                    <td><code>CONNECT2FORM_PLUGIN_URL</code></td>
                    <td>Plugin URL</td>
                    <td>URL to plugin directory</td>
                </tr>
                <tr>
                    <td><code>CONNECT2FORM_UPLOADS_DIR</code></td>
                    <td>Uploads directory</td>
                    <td>Directory for file uploads</td>
                </tr>
                <tr>
                    <td><code>CONNECT2FORM_MIN_WP_VERSION</code></td>
                    <td>5.0</td>
                    <td>Minimum WordPress version</td>
                </tr>
                <tr>
                    <td><code>CONNECT2FORM_MIN_PHP_VERSION</code></td>
                    <td>7.4</td>
                    <td>Minimum PHP version</td>
                </tr>
            </table>
        </div>

        <div class="content" id="installation">
            <h2>üíæ Installation & Setup</h2>

            <h3>üîß Development Environment Setup</h3>
            
            <h4>1. Clone Repository</h4>
            <div class="code-block">
# Clone the repository
git clone https://github.com/prawinsonawane/connect2form-builder.git

# Navigate to WordPress plugins directory
cd wp-content/plugins/

# Create symbolic link (for development)
ln -s /path/to/connect2form-builder connect2form-builder
            </div>

            <h4>2. Install Dependencies</h4>
            <div class="info">
                <strong>Note:</strong> This plugin doesn't use composer or npm build tools. All dependencies are included or loaded via WordPress APIs.
            </div>

            <h4>3. Enable Development Mode</h4>
            <div class="code-block">
// Add to wp-config.php for development
define('WP_DEBUG', true);
define('WP_DEBUG_LOG', true);
define('SCRIPT_DEBUG', true);
define('CONNECT2FORM_DEBUG', true);
            </div>

            <h3>üöÄ Production Deployment</h3>
            
            <h4>1. File Permissions</h4>
            <div class="code-block">
# Set proper permissions
chmod 755 connect2form-builder/
chmod 644 connect2form-builder/*.php
chmod 644 connect2form-builder/assets/css/*.css
chmod 644 connect2form-builder/assets/js/*.js
            </div>

            <h4>2. Security Considerations</h4>
            <div class="warning">
                <strong>Security Note:</strong> Ensure the uploads directory is properly secured and not directly accessible via web.
            </div>

            <div class="code-block">
# Add to .htaccess in uploads directory
Order deny,allow
Deny from all
&lt;Files ~ "\.(txt|log)$"&gt;
Allow from all
&lt;/Files&gt;
            </div>
        </div>

        <div class="content" id="hooks-filters">
            <h2>üé£ Hooks & Filters</h2>

            <p>Connect2Form provides extensive customization through WordPress hooks and filters. Here's a comprehensive reference:</p>

            <h3>üìã Form Rendering Hooks</h3>
            <table class="parameter-table">
                <tr>
                    <th>Hook Name</th>
                    <th>Type</th>
                    <th>Parameters</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><code>connect2form_before_form_render</code></td>
                    <td>Action</td>
                    <td>$form, $settings</td>
                    <td>Fired before form HTML generation</td>
                </tr>
                <tr>
                    <td><code>connect2form_after_form_render</code></td>
                    <td>Action</td>
                    <td>$form, $html</td>
                    <td>Fired after form HTML output</td>
                </tr>
                <tr>
                    <td><code>connect2form_before_form_fields</code></td>
                    <td>Action</td>
                    <td>$form, $fields</td>
                    <td>Before field rendering loop</td>
                </tr>
                <tr>
                    <td><code>connect2form_after_form_fields</code></td>
                    <td>Action</td>
                    <td>$form, $fields</td>
                    <td>After field rendering loop</td>
                </tr>
                <tr>
                    <td><code>connect2form_before_field_render</code></td>
                    <td>Action</td>
                    <td>$field, $form</td>
                    <td>Before individual field render</td>
                </tr>
                <tr>
                    <td><code>connect2form_after_field_render</code></td>
                    <td>Action</td>
                    <td>$field, $form, $html</td>
                    <td>After individual field render</td>
                </tr>
            </table>

            <h3>üîÑ Data Processing Hooks</h3>
            <table class="parameter-table">
                <tr>
                    <th>Hook Name</th>
                    <th>Type</th>
                    <th>Parameters</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><code>connect2form_before_validation</code></td>
                    <td>Action</td>
                    <td>$form, $post_data, $files</td>
                    <td>Before form validation starts</td>
                </tr>
                <tr>
                    <td><code>connect2form_after_validation</code></td>
                    <td>Action</td>
                    <td>$form, $validated_data, $errors</td>
                    <td>After form validation completes</td>
                </tr>
                <tr>
                    <td><code>connect2form_submission_data</code></td>
                    <td>Filter</td>
                    <td>$data, $form</td>
                    <td>Modify submission data before saving</td>
                </tr>
                <tr>
                    <td><code>connect2form_before_save_submission</code></td>
                    <td>Action</td>
                    <td>$data, $form</td>
                    <td>Before saving submission to database</td>
                </tr>
                <tr>
                    <td><code>connect2form_after_save_submission</code></td>
                    <td>Action</td>
                    <td>$submission_id, $data, $form</td>
                    <td>After saving submission to database</td>
                </tr>
                <tr>
                    <td><code>connect2form_after_submission</code></td>
                    <td>Action</td>
                    <td>$submission_id, $form</td>
                    <td>After complete submission process</td>
                </tr>
            </table>

            <h3>‚öôÔ∏è Customization Filters</h3>
            <table class="parameter-table">
                <tr>
                    <th>Filter Name</th>
                    <th>Parameters</th>
                    <th>Return Type</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><code>connect2form_form_fields</code></td>
                    <td>$fields, $form</td>
                    <td>array</td>
                    <td>Modify form fields configuration</td>
                </tr>
                <tr>
                    <td><code>connect2form_form_settings</code></td>
                    <td>$settings, $form</td>
                    <td>array</td>
                    <td>Modify form settings</td>
                </tr>
                <tr>
                    <td><code>connect2form_field_html</code></td>
                    <td>$html, $field, $form</td>
                    <td>string</td>
                    <td>Customize individual field HTML</td>
                </tr>
                <tr>
                    <td><code>connect2form_form_html</code></td>
                    <td>$html, $form, $fields, $settings</td>
                    <td>string</td>
                    <td>Customize complete form HTML</td>
                </tr>
                <tr>
                    <td><code>connect2form_submit_button_text</code></td>
                    <td>$text, $form</td>
                    <td>string</td>
                    <td>Customize submit button text</td>
                </tr>
                <tr>
                    <td><code>connect2form_validation_error_message</code></td>
                    <td>$message, $field, $form</td>
                    <td>string</td>
                    <td>Customize validation error messages</td>
                </tr>
            </table>

            <h3>üîí Security & Performance Filters</h3>
            <table class="parameter-table">
                <tr>
                    <th>Filter Name</th>
                    <th>Default Value</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><code>connect2form_max_file_size</code></td>
                    <td>2MB</td>
                    <td>Maximum file upload size</td>
                </tr>
                <tr>
                    <td><code>connect2form_allowed_file_types</code></td>
                    <td>jpg,jpeg,png,gif,pdf,doc,docx</td>
                    <td>Allowed file upload types</td>
                </tr>
                <tr>
                    <td><code>connect2form_max_attempts_per_hour</code></td>
                    <td>10</td>
                    <td>Rate limiting attempts per IP</td>
                </tr>
                <tr>
                    <td><code>connect2form_submission_retention_days</code></td>
                    <td>365</td>
                    <td>Data retention period in days</td>
                </tr>
                <tr>
                    <td><code>connect2form_cache_duration</code></td>
                    <td>3600</td>
                    <td>Cache duration in seconds</td>
                </tr>
            </table>
        </div>

        <div class="content" id="classes">
            <h2>üì¶ Core Classes</h2>

            <h3>üéØ Connect2Form_Admin</h3>
            <p>Handles all administrative functionality including menus, pages, and backend operations.</p>
            
            <div class="method-signature">
class Connect2Form_Admin {
    public function __construct($plugin_name, $version)
    public function enqueue_styles()
    public function enqueue_scripts()
    public function add_admin_menu()
    public function display_forms_page()
    public function display_add_form_page()
    public function display_settings_page()
}
            </div>

            <h4>Key Methods:</h4>
            <table>
                <tr>
                    <th>Method</th>
                    <th>Description</th>
                    <th>Parameters</th>
                </tr>
                <tr>
                    <td><code>enqueue_styles()</code></td>
                    <td>Loads admin CSS files</td>
                    <td>None</td>
                </tr>
                <tr>
                    <td><code>enqueue_scripts()</code></td>
                    <td>Loads admin JavaScript files</td>
                    <td>None</td>
                </tr>
                <tr>
                    <td><code>add_admin_menu()</code></td>
                    <td>Creates admin menu structure</td>
                    <td>None</td>
                </tr>
                <tr>
                    <td><code>display_forms_page()</code></td>
                    <td>Renders forms list page</td>
                    <td>None</td>
                </tr>
            </table>

            <h3>üèóÔ∏è Connect2Form_Form_Builder</h3>
            <p>Manages form field types, form builder interface, and field configuration.</p>

            <div class="method-signature">
class Connect2Form_Form_Builder {
    public function __construct()
    public function get_field_types()
    public function render_field_options($field_type)
    public function validate_field_settings($settings)
    private function init_field_types()
}
            </div>

            <h4>Available Field Types:</h4>
            <div class="grid">
                <div class="card">
                    <h4>Text Fields</h4>
                    <ul>
                        <li>text</li>
                        <li>email</li>
                        <li>url</li>
                        <li>tel</li>
                        <li>password</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>Content Fields</h4>
                    <ul>
                        <li>textarea</li>
                        <li>number</li>
                        <li>date</li>
                        <li>time</li>
                        <li>datetime-local</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>Choice Fields</h4>
                    <ul>
                        <li>select</li>
                        <li>radio</li>
                        <li>checkbox</li>
                        <li>checkbox_group</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>Advanced Fields</h4>
                    <ul>
                        <li>file</li>
                        <li>hidden</li>
                        <li>captcha</li>
                        <li>submit</li>
                    </ul>
                </div>
            </div>

            <h3>üé® Connect2Form_Form_Renderer</h3>
            <p>Handles frontend form rendering with proper HTML structure and accessibility features.</p>

            <div class="method-signature">
class Connect2Form_Form_Renderer {
    public function __construct()
    public function render_form($form_id, $echo = true)
    public function render_field($field, $form)
    private function get_field_html($field, $form)
    private function get_form_settings($form_id)
}
            </div>

            <h3>üìù Connect2Form_Submission_Handler</h3>
            <p>Processes form submissions, validates data, and manages the submission workflow.</p>

            <div class="method-signature">
class Connect2Form_Submission_Handler {
    public function __construct()
    public function process_submission()
    public function validate_submission($form, $post_data, $files)
    public function save_submission($form_id, $data)
    private function send_notifications($submission_id, $form, $data)
}
            </div>

            <h3>üîí Connect2Form_Security</h3>
            <p>Implements comprehensive security measures including CSRF protection, rate limiting, and input validation.</p>

            <div class="method-signature">
class Connect2Form_Security {
    public function __construct()
    public function verify_nonce($nonce, $action)
    public function check_rate_limit($ip)
    public function sanitize_input($data, $field_type)
    public function validate_file_upload($file)
    private function is_spam($data)
}
            </div>

            <h3>‚ö° Connect2Form_Performance</h3>
            <p>Manages performance optimization including caching, database query optimization, and memory management.</p>

            <div class="method-signature">
class Connect2Form_Performance {
    public function __construct()
    public function get_cached_data($key)
    public function set_cache($key, $data, $expiration = 3600)
    public function clear_cache($pattern = '')
    public function optimize_database_queries()
    private function cleanup_old_data()
}
            </div>
        </div>

        <div class="content" id="customization">
            <h2>üé® Customization Guide</h2>

            <h3>üéØ Custom Field Types</h3>
            <p>Create custom field types by hooking into the form builder system:</p>

            <div class="code-block">
// Add custom field type
add_filter('connect2form_field_types', 'add_custom_field_type');
function add_custom_field_type($field_types) {
    $field_types['custom_rating'] = array(
        'label' => __('Star Rating', 'textdomain'),
        'icon' => 'fas fa-star',
        'settings' => array(
            'max_rating' => array(
                'type' => 'number',
                'label' => __('Maximum Rating', 'textdomain'),
                'default' => 5,
                'min' => 1,
                'max' => 10
            )
        )
    );
    return $field_types;
}

// Render custom field
add_filter('connect2form_field_html', 'render_custom_rating_field', 10, 3);
function render_custom_rating_field($html, $field, $form) {
    if ($field['type'] !== 'custom_rating') {
        return $html;
    }
    
    $max_rating = isset($field['max_rating']) ? intval($field['max_rating']) : 5;
    $field_id = 'field_' . $field['id'];
    
    $html = '&lt;div class="connect2form-rating-field"&gt;';
    $html .= '&lt;label for="' . esc_attr($field_id) . '"&gt;' . esc_html($field['label']) . '&lt;/label&gt;';
    $html .= '&lt;div class="rating-stars" data-max="' . esc_attr($max_rating) . '"&gt;';
    
    for ($i = 1; $i <= $max_rating; $i++) {
        $html .= '&lt;span class="star" data-value="' . $i . '"&gt;‚òÖ&lt;/span&gt;';
    }
    
    $html .= '&lt;/div&gt;';
    $html .= '&lt;input type="hidden" name="' . esc_attr($field['name']) . '" id="' . esc_attr($field_id) . '" value="0"&gt;';
    $html .= '&lt;/div&gt;';
    
    return $html;
}
            </div>

            <h3>üé® Custom Form Styling</h3>
            <p>Customize form appearance with CSS and WordPress customizer integration:</p>

            <div class="code-block">
/* Custom CSS for forms */
.connect2form-wrapper {
    max-width: 600px;
    margin: 0 auto;
    padding: 20px;
    background: #f9f9f9;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.connect2form-field {
    margin-bottom: 20px;
}

.connect2form-field label {
    display: block;
    font-weight: 600;
    margin-bottom: 5px;
    color: #333;
}

.connect2form-field input,
.connect2form-field textarea,
.connect2form-field select {
    width: 100%;
    padding: 12px;
    border: 2px solid #ddd;
    border-radius: 4px;
    font-size: 16px;
    transition: border-color 0.3s ease;
}

.connect2form-field input:focus,
.connect2form-field textarea:focus,
.connect2form-field select:focus {
    outline: none;
    border-color: #667eea;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
}

.connect2form-submit-button {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    padding: 15px 30px;
    border-radius: 5px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: transform 0.3s ease;
}

.connect2form-submit-button:hover {
    transform: translateY(-2px);
}
            </div>

            <h3>üìß Custom Email Templates</h3>
            <p>Customize email notifications with filters and templates:</p>

            <div class="code-block">
// Customize email subject
add_filter('connect2form_email_subject', 'custom_email_subject', 10, 3);
function custom_email_subject($subject, $form, $submission) {
    return sprintf('[%s] New form submission from %s', 
        get_bloginfo('name'), 
        $submission['fields']['name'] ?? 'Unknown'
    );
}

// Customize email content
add_filter('connect2form_email_content', 'custom_email_content', 10, 3);
function custom_email_content($content, $form, $submission) {
    $custom_content = '&lt;div style="font-family: Arial, sans-serif; max-width: 600px;"&gt;';
    $custom_content .= '&lt;h2 style="color: #333;"&gt;New Form Submission&lt;/h2&gt;';
    $custom_content .= '&lt;p&gt;&lt;strong&gt;Received:&lt;/strong&gt; ' . date('F j, Y g:i a') . '&lt;/p&gt;';
    $custom_content .= '&lt;hr style="border: 1px solid #eee;"&gt;';
    
    foreach ($submission['fields'] as $field_name => $value) {
        $custom_content .= '&lt;p&gt;&lt;strong&gt;' . ucfirst($field_name) . ':&lt;/strong&gt; ' . esc_html($value) . '&lt;/p&gt;';
    }
    
    $custom_content .= '&lt;/div&gt;';
    return $custom_content;
}
            </div>

            <h3>üîå Integration Hooks</h3>
            <p>Create custom integrations with third-party services:</p>

            <div class="code-block">
// Custom integration after form submission
add_action('connect2form_after_submission', 'send_to_custom_crm', 10, 2);
function send_to_custom_crm($submission_id, $form) {
    $submission = get_submission_data($submission_id);
    
    // Prepare data for your CRM
    $crm_data = array(
        'name' => $submission['fields']['name'] ?? '',
        'email' => $submission['fields']['email'] ?? '',
        'phone' => $submission['fields']['phone'] ?? '',
        'message' => $submission['fields']['message'] ?? '',
        'source' => 'WordPress Form',
        'form_id' => $form['id']
    );
    
    // Send to your CRM API
    $response = wp_remote_post('https://your-crm-api.com/leads', array(
        'body' => json_encode($crm_data),
        'headers' => array(
            'Content-Type' => 'application/json',
            'Authorization' => 'Bearer ' . get_option('your_crm_api_key')
        )
    ));
    
    if (is_wp_error($response)) {
        error_log('CRM Integration Error: ' . $response->get_error_message());
    }
}
            </div>
        </div>

        <div class="content" id="security">
            <h2>üîí Security Features</h2>

            <h3>üõ°Ô∏è Security Measures</h3>
            <p>Connect2Form implements multiple layers of security to protect against common threats:</p>

            <div class="grid">
                <div class="card">
                    <h4>üîê CSRF Protection</h4>
                    <p>WordPress nonces with expiration handling and secure validation</p>
                </div>
                <div class="card">
                    <h4>üö´ Rate Limiting</h4>
                    <p>IP-based submission limiting to prevent spam and abuse</p>
                </div>
                <div class="card">
                    <h4>üßπ Input Sanitization</h4>
                    <p>Comprehensive sanitization for all field types and user input</p>
                </div>
                <div class="card">
                    <h4>üìÅ File Security</h4>
                    <p>Upload validation, type checking, and virus scanning capability</p>
                </div>
                <div class="card">
                    <h4>üõ°Ô∏è XSS Protection</h4>
                    <p>Output escaping and content security policies</p>
                </div>
                <div class="card">
                    <h4>üíâ SQL Injection Prevention</h4>
                    <p>Prepared statements and WordPress WPDB methods</p>
                </div>
            </div>

            <h3>üîß Security Configuration</h3>
            <div class="code-block">
// Security settings filter
add_filter('connect2form_security_settings', 'custom_security_config');
function custom_security_config($settings) {
    return array_merge($settings, array(
        'max_attempts_per_hour' => 5,
        'enable_honeypot' => true,
        'require_recaptcha' => true,
        'block_disposable_emails' => true,
        'max_file_size' => 1024 * 1024, // 1MB
        'allowed_file_types' => array('jpg', 'jpeg', 'png', 'pdf'),
        'scan_uploads' => true
    ));
}

// Custom spam detection
add_filter('connect2form_is_spam', 'custom_spam_detection', 10, 3);
function custom_spam_detection($is_spam, $data, $form) {
    // Custom spam detection logic
    $spam_keywords = array('viagra', 'casino', 'loan', 'crypto');
    
    foreach ($data as $value) {
        if (is_string($value)) {
            foreach ($spam_keywords as $keyword) {
                if (stripos($value, $keyword) !== false) {
                    return true;
                }
            }
        }
    }
    
    return $is_spam;
}
            </div>

            <h3>üîç Security Audit</h3>
            <p>Regular security audits and monitoring recommendations:</p>

            <div class="highlight">
                <h4>üîç Security Checklist</h4>
                <ul>
                    <li>‚úÖ Keep WordPress core updated</li>
                    <li>‚úÖ Update Connect2Form regularly</li>
                    <li>‚úÖ Use strong passwords for admin accounts</li>
                    <li>‚úÖ Enable two-factor authentication</li>
                    <li>‚úÖ Monitor form submissions for suspicious activity</li>
                    <li>‚úÖ Regularly review uploaded files</li>
                    <li>‚úÖ Set up security logging</li>
                    <li>‚úÖ Configure proper file permissions</li>
                </ul>
            </div>
        </div>

        <div class="content" id="addon-development">
            <h2>üîå Addon Development</h2>

            <h3>üèóÔ∏è Addon Architecture</h3>
            <p>Connect2Form uses a modular addon system that allows extending functionality without modifying core files.</p>

            <h4>Creating an Addon Plugin</h4>
            <div class="code-block">
&lt;?php
/**
 * Plugin Name: Connect2Form Custom Integration
 * Description: Custom integration addon for Connect2Form
 * Version: 1.0.0
 * Requires Plugins: connect2form-builder
 */

// Prevent direct access
if (!defined('ABSPATH')) {
    exit;
}

// Check if Connect2Form is active
if (!function_exists('run_connect2form')) {
    add_action('admin_notices', function() {
        echo '&lt;div class="notice notice-error"&gt;&lt;p&gt;';
        echo 'Connect2Form Custom Integration requires Connect2Form Builder plugin to be active.';
        echo '&lt;/p&gt;&lt;/div&gt;';
    });
    return;
}

class Connect2Form_Custom_Integration {
    public function __construct() {
        add_action('connect2form_addon_loaded', array($this, 'init'));
        add_filter('connect2form_integrations', array($this, 'register_integration'));
    }
    
    public function init() {
        // Initialize addon functionality
        add_action('connect2form_after_submission', array($this, 'process_submission'), 10, 2);
    }
    
    public function register_integration($integrations) {
        $integrations['custom_crm'] = array(
            'name' => 'Custom CRM',
            'description' => 'Send submissions to your custom CRM',
            'icon' => 'dashicons-admin-links',
            'settings' => array(
                'api_key' => array(
                    'type' => 'text',
                    'label' => 'API Key',
                    'required' => true
                ),
                'endpoint' => array(
                    'type' => 'url',
                    'label' => 'API Endpoint',
                    'required' => true
                )
            )
        );
        return $integrations;
    }
    
    public function process_submission($submission_id, $form) {
        $settings = get_option('connect2form_integrations', array());
        
        if (!isset($settings['custom_crm']) || !$settings['custom_crm']['enabled']) {
            return;
        }
        
        // Process the submission
        $this->send_to_crm($submission_id, $form, $settings['custom_crm']);
    }
    
    private function send_to_crm($submission_id, $form, $settings) {
        // Implementation here
    }
}

new Connect2Form_Custom_Integration();
            </div>

            <h3>üìã Integration Templates</h3>
            <p>Addon plugins can provide custom templates for settings pages:</p>

            <div class="code-block">
// Create templates directory in your addon
addon-plugin/
‚îú‚îÄ‚îÄ addon-plugin.php
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îú‚îÄ‚îÄ admin/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ settings-page.php
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ integration-form.php
‚îÇ   ‚îî‚îÄ‚îÄ frontend/
‚îÇ       ‚îî‚îÄ‚îÄ widget.php
‚îî‚îÄ‚îÄ assets/
    ‚îú‚îÄ‚îÄ css/
    ‚îÇ   ‚îî‚îÄ‚îÄ admin.css
    ‚îî‚îÄ‚îÄ js/
        ‚îî‚îÄ‚îÄ admin.js

// Register template paths
add_filter('connect2form_template_paths', 'addon_template_paths');
function addon_template_paths($paths) {
    $paths[] = plugin_dir_path(__FILE__) . 'templates/';
    return $paths;
}
            </div>

            <h3>üîÑ Addon API</h3>
            <p>Core API methods available for addon development:</p>

            <table class="parameter-table">
                <tr>
                    <th>Method</th>
                    <th>Parameters</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td><code>connect2form_register_integration()</code></td>
                    <td>$name, $config</td>
                    <td>Register a new integration type</td>
                </tr>
                <tr>
                    <td><code>connect2form_get_submission()</code></td>
                    <td>$submission_id</td>
                    <td>Get submission data by ID</td>
                </tr>
                <tr>
                    <td><code>connect2form_get_form()</code></td>
                    <td>$form_id</td>
                    <td>Get form configuration by ID</td>
                </tr>
                <tr>
                    <td><code>connect2form_log()</code></td>
                    <td>$message, $type, $context</td>
                    <td>Log messages to Connect2Form log</td>
                </tr>
                <tr>
                    <td><code>connect2form_send_notification()</code></td>
                    <td>$to, $subject, $message</td>
                    <td>Send email notification</td>
                </tr>
            </table>
        </div>

        <div class="content" id="api-reference">
            <h2>üìö API Reference</h2>

            <h3>üåê REST API Endpoints</h3>
            <p>Connect2Form provides REST API endpoints for external integrations:</p>

            <table class="parameter-table">
                <tr>
                    <th>Endpoint</th>
                    <th>Method</th>
                    <th>Description</th>
                    <th>Authentication</th>
                </tr>
                <tr>
                    <td><code>/wp-json/connect2form/v1/forms</code></td>
                    <td>GET</td>
                    <td>Get all forms</td>
                    <td>Required</td>
                </tr>
                <tr>
                    <td><code>/wp-json/connect2form/v1/forms/{id}</code></td>
                    <td>GET</td>
                    <td>Get specific form</td>
                    <td>Required</td>
                </tr>
                <tr>
                    <td><code>/wp-json/connect2form/v1/submissions</code></td>
                    <td>GET</td>
                    <td>Get submissions</td>
                    <td>Required</td>
                </tr>
                <tr>
                    <td><code>/wp-json/connect2form/v1/submit</code></td>
                    <td>POST</td>
                    <td>Submit form data</td>
                    <td>Optional</td>
                </tr>
            </table>

            <h3>üìÑ Database Schema</h3>
            <p>Connect2Form uses custom database tables for optimal performance:</p>

            <h4>Forms Table (<code>wp_connect2form_forms</code>)</h4>
            <table>
                <tr>
                    <th>Column</th>
                    <th>Type</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td>id</td>
                    <td>int(11)</td>
                    <td>Primary key</td>
                </tr>
                <tr>
                    <td>title</td>
                    <td>varchar(255)</td>
                    <td>Form title</td>
                </tr>
                <tr>
                    <td>fields</td>
                    <td>longtext</td>
                    <td>Serialized field configuration</td>
                </tr>
                <tr>
                    <td>settings</td>
                    <td>longtext</td>
                    <td>Serialized form settings</td>
                </tr>
                <tr>
                    <td>status</td>
                    <td>varchar(20)</td>
                    <td>Form status (active, inactive, draft)</td>
                </tr>
                <tr>
                    <td>created_at</td>
                    <td>datetime</td>
                    <td>Creation timestamp</td>
                </tr>
                <tr>
                    <td>updated_at</td>
                    <td>datetime</td>
                    <td>Last update timestamp</td>
                </tr>
            </table>

            <h4>Submissions Table (<code>wp_connect2form_submissions</code>)</h4>
            <table>
                <tr>
                    <th>Column</th>
                    <th>Type</th>
                    <th>Description</th>
                </tr>
                <tr>
                    <td>id</td>
                    <td>int(11)</td>
                    <td>Primary key</td>
                </tr>
                <tr>
                    <td>form_id</td>
                    <td>int(11)</td>
                    <td>Reference to forms table</td>
                </tr>
                <tr>
                    <td>data</td>
                    <td>longtext</td>
                    <td>Serialized submission data</td>
                </tr>
                <tr>
                    <td>ip_address</td>
                    <td>varchar(45)</td>
                    <td>Submitter's IP address</td>
                </tr>
                <tr>
                    <td>user_agent</td>
                    <td>text</td>
                    <td>Browser user agent</td>
                </tr>
                <tr>
                    <td>status</td>
                    <td>varchar(20)</td>
                    <td>Submission status</td>
                </tr>
                <tr>
                    <td>created_at</td>
                    <td>datetime</td>
                    <td>Submission timestamp</td>
                </tr>
            </table>

            <h3>üîß JavaScript API</h3>
            <p>Frontend JavaScript API for custom interactions:</p>

            <div class="code-block">
// Connect2Form JavaScript API
var Connect2Form = {
    // Initialize form
    init: function(formId, options) {
        // Implementation
    },
    
    // Validate form
    validate: function(formElement) {
        // Returns validation result
    },
    
    // Submit form via AJAX
    submit: function(formElement, callback) {
        // Handle AJAX submission
    },
    
    // Add custom field type
    addFieldType: function(type, config) {
        // Register custom field type
    },
    
    // Event listeners
    on: function(event, callback) {
        // Add event listener
    },
    
    // Trigger events
    trigger: function(event, data) {
        // Trigger custom events
    }
};

// Usage examples
Connect2Form.on('formSubmit', function(data) {
    console.log('Form submitted:', data);
});

Connect2Form.on('validationError', function(errors) {
    console.log('Validation errors:', errors);
});
            </div>
        </div>

        <div class="content" id="examples">
            <h2>üí° Code Examples</h2>

            <h3>üéØ Complete Custom Integration Example</h3>
            <div class="code-block">
&lt;?php
/**
 * Complete example: Slack integration addon
 */
class Connect2Form_Slack_Integration {
    
    public function __construct() {
        add_action('plugins_loaded', array($this, 'init'));
    }
    
    public function init() {
        // Check if Connect2Form is active
        if (!class_exists('Connect2Form_Admin')) {
            return;
        }
        
        // Hook into Connect2Form
        add_filter('connect2form_integrations', array($this, 'register_integration'));
        add_action('connect2form_after_submission', array($this, 'send_to_slack'), 10, 2);
        add_action('wp_ajax_connect2form_test_slack', array($this, 'test_connection'));
    }
    
    public function register_integration($integrations) {
        $integrations['slack'] = array(
            'name' => 'Slack',
            'description' => 'Send form submissions to Slack channel',
            'icon' => 'fab fa-slack',
            'settings' => array(
                'webhook_url' => array(
                    'type' => 'url',
                    'label' => 'Webhook URL',
                    'placeholder' => 'https://hooks.slack.com/services/...',
                    'required' => true
                ),
                'channel' => array(
                    'type' => 'text',
                    'label' => 'Channel',
                    'placeholder' => '#general',
                    'default' => '#general'
                ),
                'username' => array(
                    'type' => 'text',
                    'label' => 'Bot Username',
                    'default' => 'FormBot'
                )
            ),
            'test_connection' => true
        );
        return $integrations;
    }
    
    public function send_to_slack($submission_id, $form) {
        $integration_settings = get_option('connect2form_integrations', array());
        
        if (!isset($integration_settings['slack']) || 
            !$integration_settings['slack']['enabled'] ||
            empty($integration_settings['slack']['webhook_url'])) {
            return;
        }
        
        $submission = $this->get_submission_data($submission_id);
        $message = $this->format_slack_message($submission, $form, $integration_settings['slack']);
        
        $this->send_slack_message($integration_settings['slack']['webhook_url'], $message);
    }
    
    private function format_slack_message($submission, $form, $settings) {
        $message = array(
            'channel' => $settings['channel'] ?? '#general',
            'username' => $settings['username'] ?? 'FormBot',
            'icon_emoji' => ':memo:',
            'attachments' => array(
                array(
                    'color' => 'good',
                    'title' => 'New Form Submission: ' . $form['title'],
                    'fields' => array(),
                    'footer' => get_bloginfo('name'),
                    'ts' => time()
                )
            )
        );
        
        foreach ($submission['data'] as $field_name => $value) {
            $message['attachments'][0]['fields'][] = array(
                'title' => ucfirst(str_replace('_', ' ', $field_name)),
                'value' => is_array($value) ? implode(', ', $value) : $value,
                'short' => strlen($value) < 50
            );
        }
        
        return $message;
    }
    
    private function send_slack_message($webhook_url, $message) {
        $response = wp_remote_post($webhook_url, array(
            'body' => json_encode($message),
            'headers' => array('Content-Type' => 'application/json'),
            'timeout' => 10
        ));
        
        if (is_wp_error($response)) {
            error_log('Slack Integration Error: ' . $response->get_error_message());
            return false;
        }
        
        return wp_remote_retrieve_response_code($response) === 200;
    }
    
    public function test_connection() {
        check_ajax_referer('connect2form_admin', 'nonce');
        
        if (!current_user_can('manage_options')) {
            wp_die('Unauthorized');
        }
        
        $webhook_url = sanitize_url($_POST['webhook_url'] ?? '');
        
        if (empty($webhook_url)) {
            wp_send_json_error('Webhook URL is required');
        }
        
        $test_message = array(
            'text' => 'Test message from Connect2Form integration',
            'username' => 'FormBot',
            'icon_emoji' => ':white_check_mark:'
        );
        
        $success = $this->send_slack_message($webhook_url, $test_message);
        
        if ($success) {
            wp_send_json_success('Connection successful!');
        } else {
            wp_send_json_error('Connection failed. Please check your webhook URL.');
        }
    }
    
    private function get_submission_data($submission_id) {
        global $wpdb;
        
        $table_name = $wpdb->prefix . 'connect2form_submissions';
        $submission = $wpdb->get_row(
            $wpdb->prepare("SELECT * FROM {$table_name} WHERE id = %d", $submission_id),
            ARRAY_A
        );
        
        if ($submission) {
            $submission['data'] = maybe_unserialize($submission['data']);
        }
        
        return $submission;
    }
}

new Connect2Form_Slack_Integration();
            </div>

            <h3>üé® Custom Field Validation Example</h3>
            <div class="code-block">
// Add custom validation rules
add_action('connect2form_before_validation', 'add_custom_validation', 10, 3);
function add_custom_validation($form, $post_data, $files) {
    // Custom phone number validation
    if (isset($post_data['phone'])) {
        $phone = sanitize_text_field($post_data['phone']);
        if (!preg_match('/^[\+]?[1-9][\d]{0,15}$/', $phone)) {
            connect2form_add_error('phone', 'Please enter a valid phone number');
        }
    }
    
    // Custom business email validation
    if (isset($post_data['business_email'])) {
        $email = sanitize_email($post_data['business_email']);
        $personal_domains = array('gmail.com', 'yahoo.com', 'hotmail.com', 'outlook.com');
        $domain = substr(strrchr($email, "@"), 1);
        
        if (in_array(strtolower($domain), $personal_domains)) {
            connect2form_add_error('business_email', 'Please use a business email address');
        }
    }
    
    // File size validation
    if (!empty($files['resume']['tmp_name'])) {
        $max_size = 2 * 1024 * 1024; // 2MB
        if ($files['resume']['size'] > $max_size) {
            connect2form_add_error('resume', 'File size must be less than 2MB');
        }
        
        // File type validation
        $allowed_types = array('pdf', 'doc', 'docx');
        $file_extension = pathinfo($files['resume']['name'], PATHINFO_EXTENSION);
        if (!in_array(strtolower($file_extension), $allowed_types)) {
            connect2form_add_error('resume', 'Only PDF, DOC, and DOCX files are allowed');
        }
    }
}
            </div>

            <h3>üìä Analytics Integration Example</h3>
            <div class="code-block">
// Google Analytics integration
add_action('connect2form_after_submission', 'track_form_submission', 10, 2);
function track_form_submission($submission_id, $form) {
    // Track conversion in Google Analytics 4
    if (function_exists('gtag')) {
        ?>
        &lt;script&gt;
        gtag('event', 'form_submit', {
            'event_category': 'engagement',
            'event_label': '&lt;?php echo esc_js($form['title']); ?&gt;',
            'form_id': &lt;?php echo intval($form['id']); ?&gt;,
            'value': 1
        });
        &lt;/script&gt;
        &lt;?php
    }
    
    // Track in custom analytics
    $analytics_data = array(
        'event' => 'form_submission',
        'form_id' => $form['id'],
        'form_title' => $form['title'],
        'submission_id' => $submission_id,
        'timestamp' => current_time('mysql'),
        'user_agent' => $_SERVER['HTTP_USER_AGENT'] ?? '',
        'referrer' => wp_get_referer()
    );
    
    // Send to your analytics service
    wp_remote_post('https://your-analytics-api.com/track', array(
        'body' => json_encode($analytics_data),
        'headers' => array('Content-Type' => 'application/json')
    ));
}
            </div>

            <h3>üîÑ Multi-step Form Example</h3>
            <div class="code-block">
// Multi-step form functionality
class Connect2Form_Multistep {
    
    public function __construct() {
        add_filter('connect2form_form_html', array($this, 'add_multistep_wrapper'), 10, 4);
        add_action('wp_enqueue_scripts', array($this, 'enqueue_scripts'));
        add_action('wp_ajax_connect2form_save_step', array($this, 'save_step_data'));
        add_action('wp_ajax_nopriv_connect2form_save_step', array($this, 'save_step_data'));
    }
    
    public function add_multistep_wrapper($html, $form, $fields, $settings) {
        if (!isset($settings['enable_multistep']) || !$settings['enable_multistep']) {
            return $html;
        }
        
        $steps = $this->organize_fields_by_steps($fields);
        $progress_html = $this->generate_progress_bar($steps);
        $navigation_html = $this->generate_navigation_buttons();
        
        $multistep_html = '&lt;div class="connect2form-multistep" data-form-id="' . $form['id'] . '"&gt;';
        $multistep_html .= $progress_html;
        
        foreach ($steps as $step_index => $step_fields) {
            $step_class = $step_index === 0 ? 'active' : 'hidden';
            $multistep_html .= '&lt;div class="form-step ' . $step_class . '" data-step="' . $step_index . '"&gt;';
            
            foreach ($step_fields as $field) {
                $multistep_html .= $this->render_field($field, $form);
            }
            
            $multistep_html .= $navigation_html;
            $multistep_html .= '&lt;/div&gt;';
        }
        
        $multistep_html .= '&lt;/div&gt;';
        
        return $multistep_html;
    }
    
    private function organize_fields_by_steps($fields) {
        $steps = array();
        $current_step = 0;
        
        foreach ($fields as $field) {
            if ($field['type'] === 'step_break') {
                $current_step++;
                continue;
            }
            
            $steps[$current_step][] = $field;
        }
        
        return $steps;
    }
    
    private function generate_progress_bar($steps) {
        $total_steps = count($steps);
        $html = '&lt;div class="multistep-progress"&gt;';
        
        for ($i = 0; $i < $total_steps; $i++) {
            $class = $i === 0 ? 'active' : '';
            $html .= '&lt;div class="progress-step ' . $class . '"&gt;' . ($i + 1) . '&lt;/div&gt;';
        }
        
        $html .= '&lt;/div&gt;';
        return $html;
    }
    
    private function generate_navigation_buttons() {
        return '
        &lt;div class="multistep-navigation"&gt;
            &lt;button type="button" class="btn-prev" style="display:none;"&gt;Previous&lt;/button&gt;
            &lt;button type="button" class="btn-next"&gt;Next&lt;/button&gt;
            &lt;button type="submit" class="btn-submit" style="display:none;"&gt;Submit&lt;/button&gt;
        &lt;/div&gt;';
    }
    
    public function enqueue_scripts() {
        wp_enqueue_script(
            'connect2form-multistep',
            plugin_dir_url(__FILE__) . 'assets/js/multistep.js',
            array('jquery'),
            '1.0.0',
            true
        );
        
        wp_localize_script('connect2form-multistep', 'connect2form_multistep', array(
            'ajax_url' => admin_url('admin-ajax.php'),
            'nonce' => wp_create_nonce('connect2form_multistep')
        ));
    }
    
    public function save_step_data() {
        check_ajax_referer('connect2form_multistep', 'nonce');
        
        $form_id = intval($_POST['form_id']);
        $step_data = array_map('sanitize_text_field', $_POST['step_data']);
        $session_id = sanitize_text_field($_POST['session_id']);
        
        // Save step data temporarily
        set_transient(
            'connect2form_step_data_' . $session_id,
            $step_data,
            HOUR_IN_SECONDS
        );
        
        wp_send_json_success('Step data saved');
    }
}

new Connect2Form_Multistep();
            </div>
        </div>

        <footer>
            <p>&copy; 2024 Connect2Form Builder. Made with ‚ù§Ô∏è for the WordPress community.</p>
            <p>
                <strong>Links:</strong>
                <a href="https://github.com/prawinsonawane/connect2form-builder" target="_blank">GitHub Repository</a> |
                <a href="https://connect2form.com" target="_blank">Official Website</a> |
                <a href="https://wordpress.org/plugins/connect2form-builder" target="_blank">WordPress.org</a>
            </p>
        </footer>
    </div>

    <script>
        // Smooth scrolling for navigation links
        document.querySelectorAll('nav a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Copy code blocks on click
        document.querySelectorAll('.code-block').forEach(block => {
            block.addEventListener('click', function() {
                const text = this.textContent;
                navigator.clipboard.writeText(text).then(() => {
                    // Show brief feedback
                    const originalBackground = this.style.backgroundColor;
                    this.style.backgroundColor = '#4CAF50';
                    this.style.transition = 'background-color 0.3s';
                    setTimeout(() => {
                        this.style.backgroundColor = originalBackground;
                    }, 300);
                });
            });
        });

        // Add copy hint to code blocks
        document.querySelectorAll('.code-block').forEach(block => {
            block.title = 'Click to copy code';
            block.style.cursor = 'pointer';
        });
    </script>
</body>
</html>
